# DOSBox Bridge Production Configuration (Headless)
# This config runs DOSBox-X headless for production server deployment
# COM1 connected to bridge server via TCP
#
# HEADLESS MODE NOTES:
# - Windows: windowposition=-2000,-2000 works (window offscreen, serial works)
# - Linux: May be able to use SDL_VIDEODRIVER=dummy (needs testing)
# - The -nogui flag is used on Windows, helps reduce GUI overhead
# - TRUE headless (SDL_VIDEODRIVER=dummy) breaks serial ports on Windows

[sdl]
fullscreen=false
output=surface
windowresolution=640x400
autolock=false
# Position window offscreen (works on Windows, invisible to users)
windowposition=-2000,-2000
# Linux alternative (uncomment for testing on Linux):
# SDL_VIDEODRIVER can be set via environment variable instead of config

[dosbox]
machine=svga_s3
memsize=16

[render]
aspect=true
scaler=normal2x

[cpu]
core=auto
cputype=auto
cycles=10000

[serial]
# Connect COM1 to TCP bridge server
# The bridge server must be running first on port 5000
serial1=nullmodem transparent:1 server:127.0.0.1 port:5000

[dos]
xms=true
ems=true

[autoexec]
# Mount directories and launch door game
@echo off
mount c dosbox-bridge\dos
c:
# Door-specific commands will be appended here
