# DOSBox Bridge Test Configuration (Development/Testing)
# This config shows DOSBox-X console for debugging and testing
# For production headless deployment, use dosbox-bridge-production.conf
# COM1 connected to bridge server via TCP

[sdl]
fullscreen=false
output=opengl

[dosbox]
machine=svga_s3
memsize=4
nocachedir=true

[render]
aspect=true
scaler=normal2x

[cpu]
core=auto
cputype=auto
cycles=10000

[serial]
# COM1 connects to bridge server on TCP port
# Bridge listens on port, DOSBox connects to it
# transparent:1 passes through control signals
# rxdelay:0 txdelay:0 removes timing delays for full-speed transfer
serial1=nullmodem server:127.0.0.1 port:5000 transparent:1 rxdelay:0 txdelay:0
# Note: DOSBox-X has built-in FOSSIL (serial1_fossil=true)
# Vanilla DOSBox/SVN requires loading FOSSIL driver in autoexec

[dos]
xms=true
ems=true
# Emulate MS-DOS 6.22 - no LFN support, correct for BBS door game era.
# Do NOT change to ver=7.x - that enables VFAT long filename support, which
# causes Linux case-sensitive filenames to appear as separate DOS entries.
ver=6.22
# Aggressive directory cache refresh for multi-node support
automount=true
dir_cache_timeout=1000

[autoexec]
# Mount directories
@echo off
mount c dosbox-bridge/dos
CONFIG -securemode
c:
# Add tools directory to PATH
set PATH=C:\TOOLS;%PATH%
echo ============================================
echo   DOSBox Bridge - Launching Door Game
echo ============================================
echo.
# FOSSIL driver loading is conditional based on door manifest (fossil_required)
echo.
echo Starting door game...
echo ============================================
# Door-specific commands will be appended here
