[unix_http_server]
file=/var/run/supervisor.sock
chmod=0700

[supervisord]
nodaemon=true
user=root
logfile=/var/www/html/data/logs/supervisord.log
pidfile=/var/www/html/data/run/supervisord.pid

[rpcinterface:supervisor]
supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface

[supervisorctl]
serverurl=unix:///var/run/supervisor.sock

[program:apache]
command=/usr/sbin/apache2ctl -D FOREGROUND
autostart=true
autorestart=true
stdout_logfile=/dev/stdout
stdout_logfile_maxbytes=0
stderr_logfile=/dev/stderr
stderr_logfile_maxbytes=0
user=root

[program:admin_daemon]
command=php /var/www/html/scripts/admin_daemon.php
autostart=true
autorestart=true
stdout_logfile=/var/www/html/data/logs/admin_daemon.log
stdout_logfile_maxbytes=10485760
stderr_logfile=/var/www/html/data/logs/admin_daemon_error.log
stderr_logfile_maxbytes=10485760
user=www-data
directory=/var/www/html

[program:binkp_scheduler]
command=php /var/www/html/scripts/binkp_scheduler.php
autostart=true
autorestart=true
stdout_logfile=/var/www/html/data/logs/binkp_scheduler.log
stdout_logfile_maxbytes=10485760
stderr_logfile=/var/www/html/data/logs/binkp_scheduler_error.log
stderr_logfile_maxbytes=10485760
user=www-data
directory=/var/www/html

[program:binkp_server]
command=php /var/www/html/scripts/binkp_server.php
autostart=true
autorestart=true
stdout_logfile=/var/www/html/data/logs/binkp_server.log
stdout_logfile_maxbytes=10485760
stderr_logfile=/var/www/html/data/logs/binkp_server_error.log
stderr_logfile_maxbytes=10485760
user=www-data
directory=/var/www/html

[program:dosdoor_bridge]
command=/usr/bin/node /var/www/html/scripts/dosbox-bridge/multiplexing-server.js
autostart=true
autorestart=true
stdout_logfile=/var/www/html/data/logs/dosdoor_bridge.log
stdout_logfile_maxbytes=10485760
stderr_logfile=/var/www/html/data/logs/dosdoor_bridge_error.log
stderr_logfile_maxbytes=10485760
user=www-data
directory=/var/www/html
environment=SDL_VIDEODRIVER="dummy",DOSDOOR_HEADLESS="true",NODE_ENV="production"

[program:telnet_daemon]
command=php /var/www/html/telnet/telnet_daemon.php --host=0.0.0.0 --api-base=http://localhost
autostart=true
autorestart=true
stdout_logfile=/var/www/html/data/logs/telnet_daemon.log
stdout_logfile_maxbytes=10485760
stderr_logfile=/var/www/html/data/logs/telnet_daemon_error.log
stderr_logfile_maxbytes=10485760
user=www-data
directory=/var/www/html
